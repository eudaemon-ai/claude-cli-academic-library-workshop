import{W as L,k as $,h as k,y as H,B as J,m as Q,g as B,X as j,Y as ee,Z as Y,_ as x,v as b,C as re,$ as ae,a0 as U,b as ne,a1 as I,a2 as D,a3 as fe,a4 as se,R as ie,a5 as le,a6 as oe,a7 as ue,a8 as X,a9 as te,aa as V,ab as P,ac as O,ad as ve,ae as ce,af as de,ag as z,ah as _e,w as he,ai as ge,aj as pe,ak as Ee,al as Te,am as Ae,an as me,ao as Ne}from"./CKmK40wl.js";function Le(e,r){return r}function ke(e,r,a){for(var u=[],l=r.length,o,i=r.length,f=0;f<l;f++){let t=r[f];P(t,()=>{if(o){if(o.pending.delete(t),o.done.add(t),o.pending.size===0){var _=e.outrogroups;F(z(o.done)),_.delete(o),_.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var v=u.length===0&&a!==null;if(v){var s=a,c=s.parentNode;ce(c),c.append(s),e.items.clear()}F(r,!v)}else o={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(o)}function F(e,r=!0){for(var a=0;a<e.length;a++)de(e[a],r)}var q;function He(e,r,a,u,l,o=null){var i=e,f=new Map;{var v=e;i=k?H(J(v)):v.appendChild(L())}k&&Q();var s=null,c=ie(()=>{var d=a();return _e(d)?d:d==null?[]:z(d)}),t,_=!0;function w(){p.fallback=s,Ie(p,t,i,r,u),s!==null&&(t.length===0?(s.f&I)===0?V(s):(s.f^=I,R(s,null,i)):P(s,()=>{s=null}))}var n=$(()=>{t=B(c);var d=t.length;let T=!1;if(k){var g=j(i)===ee;g!==(d===0)&&(i=Y(),H(i),x(!1),T=!0)}for(var M=new Set,A=ne,S=se(),m=0;m<d;m+=1){k&&b.nodeType===re&&b.data===ae&&(i=b,T=!0,x(!1));var C=t[m],h=u(C,m),E=_?null:f.get(h);E?(E.v&&U(E.v,C),E.i&&U(E.i,m),S&&A.unskip_effect(E.e)):(E=Se(f,_?i:q??=L(),C,h,m,l,r,a),_||(E.e.f|=I),f.set(h,E)),M.add(h)}if(d===0&&o&&!s&&(_?s=D(()=>o(i)):(s=D(()=>o(q??=L())),s.f|=I)),d>M.size&&fe(),k&&d>0&&H(Y()),!_)if(S){for(const[W,Z]of f)M.has(W)||A.skip_effect(Z.e);A.oncommit(w),A.ondiscard(()=>{})}else w();T&&x(!0),B(c)}),p={effect:n,items:f,outrogroups:null,fallback:s};_=!1,k&&(i=b)}function y(e){for(;e!==null&&(e.f&ve)===0;)e=e.next;return e}function Ie(e,r,a,u,l){var o=r.length,i=e.items,f=y(e.effect.first),v,s=null,c=[],t=[],_,w,n,p;for(p=0;p<o;p+=1){if(_=r[p],w=l(_,p),n=i.get(w).e,e.outrogroups!==null)for(const h of e.outrogroups)h.pending.delete(n),h.done.delete(n);if((n.f&I)!==0)if(n.f^=I,n===f)R(n,null,a);else{var d=s?s.next:f;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),N(e,s,n),N(e,n,d),R(n,d,a),s=n,c=[],t=[],f=y(s.next);continue}if((n.f&O)!==0&&V(n),n!==f){if(v!==void 0&&v.has(n)){if(c.length<t.length){var T=t[0],g;s=T.prev;var M=c[0],A=c[c.length-1];for(g=0;g<c.length;g+=1)R(c[g],T,a);for(g=0;g<t.length;g+=1)v.delete(t[g]);N(e,M.prev,A.next),N(e,s,M),N(e,A,T),f=T,s=A,p-=1,c=[],t=[]}else v.delete(n),R(n,f,a),N(e,n.prev,n.next),N(e,n,s===null?e.effect.first:s.next),N(e,s,n),s=n;continue}for(c=[],t=[];f!==null&&f!==n;)(v??=new Set).add(f),t.push(f),f=y(f.next);if(f===null)continue}(n.f&I)===0&&c.push(n),s=n,f=y(n.next)}if(e.outrogroups!==null){for(const h of e.outrogroups)h.pending.size===0&&(F(z(h.done)),e.outrogroups?.delete(h));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||v!==void 0){var S=[];if(v!==void 0)for(n of v)(n.f&O)===0&&S.push(n);for(;f!==null;)(f.f&O)===0&&f!==e.fallback&&S.push(f),f=y(f.next);var m=S.length;if(m>0){var C=o===0?a:null;ke(e,S,C)}}}function Se(e,r,a,u,l,o,i,f){var v=(i&le)!==0?(i&oe)===0?ue(a,!1,!1):X(a):null,s=(i&te)!==0?X(l):null;return{v,i:s,e:D(()=>(o(r,v??a,s??l,f),()=>{e.delete(u)}))}}function R(e,r,a){if(e.nodes)for(var u=e.nodes.start,l=e.nodes.end,o=r&&(r.f&I)===0?r.nodes.start:a;u!==null;){var i=he(u);if(o.before(u),u===l)return;u=i}}function N(e,r,a){r===null?e.effect.first=a:r.next=a,a===null?e.effect.last=r:a.prev=r}const Me=Symbol("is custom element"),we=Symbol("is html"),Ce=Ae?"link":"LINK";function xe(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var u=e.value;G(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var l=e.checked;G(e,"checked",null),e.checked=l}}};e.__on_r=a,me(a),Ne()}}function G(e,r,a,u){var l=ye(e);k&&(l[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName===Ce)||l[r]!==(l[r]=a)&&(r==="loading"&&(e[ge]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Re(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ye(e){return e.__attributes??={[Me]:e.nodeName.includes("-"),[we]:e.namespaceURI===pe}}var K=new Map;function Re(e){var r=e.getAttribute("is")||e.nodeName,a=K.get(r);if(a)return a;K.set(r,a=[]);for(var u,l=e,o=Element.prototype;o!==l;){u=Te(l);for(var i in u)u[i].set&&a.push(i);l=Ee(l)}return a}export{He as e,Le as i,xe as r,G as s};
