import{aG as fe,g as J,i as oe,a8 as U,e as he,an as D,aH as V,v as m,h as p,o as E,aI as P,k as X,m as Z,Y as G,aJ as $,a2 as y,W as K,aK as Y,ab as F,aE as le,aL as L,aM as ce,aN as W,aO as ue,aP as de,aQ as A,aR as O,aS as q,aT as _e,aU as Q,V as ee,a0 as pe,af as x,y as R,n as ge,Z as te,aV as S,E as re,aq as ve,aW as me,aX as ye,aY as be,aZ as M,B as Ee,C as se,a_ as ie,w as Te,H as B,_ as T,a$ as we,ae as Re,b0 as Se,ag as Ne,p as De,$ as Ae,x as Oe,a as Ie,X as Ye}from"./CKmK40wl.js";import{b as Fe,B as xe}from"./BzzAkpJO.js";function Me(t){let e=0,r=U(0),i;return()=>{fe()&&(J(r),oe(()=>(e===0&&(i=he(()=>t(()=>V(r)))),e+=1,()=>{D(()=>{e-=1,e===0&&(i?.(),i=void 0,V(r))})})))}}var Be=re|ve;function ke(t,e,r,i){new Ce(t,e,r,i)}class Ce{parent;is_pending=!1;transform_error;#t;#g=p?m:null;#i;#h;#e;#a=null;#r=null;#s=null;#n=null;#l=0;#o=0;#c=!1;#u=new Set;#d=new Set;#f=null;#y=Me(()=>(this.#f=U(this.#l),()=>{this.#f=null}));constructor(e,r,i,o){this.#t=e,this.#i=r,this.#h=s=>{var n=E;n.b=this,n.f|=P,i(s)},this.parent=E.b,this.transform_error=o??this.parent?.transform_error??(s=>s),this.#e=X(()=>{if(p){const s=this.#g;Z();const n=s.data===G;if(s.data.startsWith($)){const a=JSON.parse(s.data.slice($.length));this.#E(a)}else n?this.#T():this.#b()}else this.#v()},Be),p&&(this.#t=m)}#b(){try{this.#a=y(()=>this.#h(this.#t))}catch(e){this.error(e)}}#E(e){const r=this.#i.failed;r&&(this.#s=y(()=>{r(this.#t,()=>e,()=>()=>{})}))}#T(){const e=this.#i.pending;e&&(this.is_pending=!0,this.#r=y(()=>e(this.#t)),D(()=>{var r=this.#n=document.createDocumentFragment(),i=K();r.append(i),this.#a=this.#p(()=>(Y.ensure(),y(()=>this.#h(i)))),this.#o===0&&(this.#t.before(r),this.#n=null,F(this.#r,()=>{this.#r=null}),this.#_())}))}#v(){try{if(this.is_pending=this.has_pending_snippet(),this.#o=0,this.#l=0,this.#a=y(()=>{this.#h(this.#t)}),this.#o>0){var e=this.#n=document.createDocumentFragment();le(this.#a,e);const r=this.#i.pending;this.#r=y(()=>r(this.#t))}else this.#_()}catch(r){this.error(r)}}#_(){this.is_pending=!1;for(const e of this.#u)L(e,ce),W(e);for(const e of this.#d)L(e,ue),W(e);this.#u.clear(),this.#d.clear()}defer_effect(e){de(e,this.#u,this.#d)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#p(e){var r=E,i=Q,o=ee;A(this.#e),O(this.#e),q(this.#e.ctx);try{return e()}catch(s){return _e(s),null}finally{A(r),O(i),q(o)}}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#o+=e,this.#o===0&&(this.#_(),this.#r&&F(this.#r,()=>{this.#r=null}),this.#n&&(this.#t.before(this.#n),this.#n=null))}update_pending_count(e){this.#m(e),this.#l+=e,!(!this.#f||this.#c)&&(this.#c=!0,D(()=>{this.#c=!1,this.#f&&pe(this.#f,this.#l)}))}get_effect_pending(){return this.#y(),J(this.#f)}error(e){var r=this.#i.onerror;let i=this.#i.failed;if(!r&&!i)throw e;this.#a&&(x(this.#a),this.#a=null),this.#r&&(x(this.#r),this.#r=null),this.#s&&(x(this.#s),this.#s=null),p&&(R(this.#g),ge(),R(te()));var o=!1,s=!1;const n=()=>{if(o){ye();return}o=!0,s&&me(),this.#s!==null&&F(this.#s,()=>{this.#s=null}),this.#p(()=>{Y.ensure(),this.#v()})},h=a=>{try{s=!0,r?.(a,n),s=!1}catch(f){S(f,this.#e&&this.#e.parent)}i&&(this.#s=this.#p(()=>{Y.ensure();try{return y(()=>{var f=E;f.b=this,f.f|=P,i(this.#t,()=>a,()=>n)})}catch(f){return S(f,this.#e.parent),null}}))};D(()=>{var a;try{a=this.transform_error(e)}catch(f){S(f,this.#e&&this.#e.parent);return}a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(h,f=>S(f,this.#e&&this.#e.parent)):h(a)})}}const He=["touchstart","touchmove"];function Ve(t){return He.includes(t)}const w=Symbol("events"),ae=new Set,k=new Set;function We(t,e,r){(e[w]??={})[t]=r}function qe(t){for(var e=0;e<t.length;e++)ae.add(t[e]);for(var r of k)r(t)}let j=null;function z(t){var e=this,r=e.ownerDocument,i=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;j=t;var n=0,h=j===t&&t[w];if(h){var a=o.indexOf(h);if(a!==-1&&(e===document||e===window)){t[w]=e;return}var f=o.indexOf(e);if(f===-1)return;a<=f&&(n=a)}if(s=o[n]||t.target,s!==e){be(t,"currentTarget",{configurable:!0,get(){return s||r}});var d=Q,g=E;O(null),A(null);try{for(var v,c=[];s!==null;){var l=s.assignedSlot||s.parentNode||s.host||null;try{var u=s[w]?.[i];u!=null&&(!s.disabled||t.target===s)&&u.call(s,t)}catch(_){v?c.push(_):v=_}if(t.cancelBubble||l===e||l===null)break;s=l}if(v){for(let _ of c)queueMicrotask(()=>{throw _});throw v}}finally{t[w]=e,delete t.currentTarget,O(d),A(g)}}}function je(t,e){var r=e==null?"":typeof e=="object"?`${e}`:e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=`${r}`)}function Pe(t,e){return ne(t,e)}function ze(t,e){M(),e.intro=e.intro??!1;const r=e.target,i=p,o=m;try{for(var s=Ee(r);s&&(s.nodeType!==se||s.data!==ie);)s=Te(s);if(!s)throw B;T(!0),R(s);const n=ne(t,{...e,anchor:s});return T(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw n;return n!==B&&console.warn("Failed to hydrate: ",n),e.recover===!1&&we(),M(),Re(r),T(!1),Pe(t,e)}finally{T(i),R(o)}}const N=new Map;function ne(t,{target:e,anchor:r,props:i={},events:o,context:s,intro:n=!0,transformError:h}){M();var a=void 0,f=Se(()=>{var d=r??e.appendChild(K());ke(d,{pending:()=>{}},c=>{De({});var l=ee;if(s&&(l.c=s),o&&(i.$$events=o),p&&Fe(c,null),a=t(c,i)||{},p&&(E.nodes.end=m,m===null||m.nodeType!==se||m.data!==Ae))throw Oe(),B;Ie()},h);var g=new Set,v=c=>{for(var l=0;l<c.length;l++){var u=c[l];if(!g.has(u)){g.add(u);var _=Ve(u);for(const I of[e,document]){var b=N.get(I);b===void 0&&(b=new Map,N.set(I,b));var H=b.get(u);H===void 0?(I.addEventListener(u,z,{passive:_}),b.set(u,1)):b.set(u,H+1)}}}};return v(Ne(ae)),k.add(v),()=>{for(var c of g)for(const _ of[e,document]){var l=N.get(_),u=l.get(c);--u==0?(_.removeEventListener(c,z),l.delete(c),l.size===0&&N.delete(_)):l.set(c,u)}k.delete(v),d!==r&&d.parentNode?.removeChild(d)}});return C.set(a,f),a}let C=new WeakMap;function Je(t,e){const r=C.get(t);return r?(C.delete(t),r(e)):Promise.resolve()}function Ue(t,e,r=!1){var i;p&&(i=m,Z());var o=new xe(t),s=r?re:0;function n(h,a){if(p){var f=Ye(i),d;if(f===ie?d=0:f===G?d=!1:d=parseInt(f.substring(1)),h!==d){var g=te();R(g),o.anchor=g,T(!1),o.ensure(h,a),T(!0);return}}o.ensure(h,a)}X(()=>{var h=!1;e((a,f=0)=>{h=!0,n(f,a)}),h||n(!1,null)},s)}export{We as a,qe as d,ze as h,Ue as i,Pe as m,je as s,Je as u};
