import{z as T,W as d,B as m,ay as g,o as b,az as y,aA as w,h as l,v as h,aB as E,m as M,aC as A,y as k,aD as N,b as v,aa as x,af as _,ab as C,a2 as p,aE as D,a4 as L}from"./CKmK40wl.js";const B=globalThis?.window?.trustedTypes&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:s=>s});function O(s){return B?.createHTML(s)??s}function P(s){var t=T("template");return t.innerHTML=O(s.replaceAll("<!>","<!---->")),t.content}function c(s,t){var e=b;e.nodes===null&&(e.nodes={start:s,end:t,a:null,t:null})}function I(s,t){var e=(t&y)!==0,a=(t&w)!==0,r,i=!s.startsWith("<!>");return()=>{if(l)return c(h,null),h;r===void 0&&(r=P(i?s:"<!>"+s),e||(r=m(r)));var n=a||g?document.importNode(r,!0):r.cloneNode(!0);if(e){var o=m(n),f=n.lastChild;c(o,f)}else c(n,n);return n}}function S(s=""){if(!l){var t=d(s+"");return c(t,t),t}var e=h;return e.nodeType!==A?(e.before(e=d()),k(e)):N(e),c(e,e),e}function H(){if(l)return c(h,null),h;var s=document.createDocumentFragment(),t=document.createComment(""),e=d();return s.append(t,e),c(t,e),s}function z(s,t){if(l){var e=b;((e.f&E)===0||e.nodes.end===null)&&(e.nodes.end=h),M();return}s!==null&&s.before(t)}class U{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#r=!0;constructor(t,e=!0){this.anchor=t,this.#r=e}#n=()=>{var t=v;if(this.#t.has(t)){var e=this.#t.get(t),a=this.#s.get(e);if(a)x(a),this.#a.delete(e);else{var r=this.#e.get(e);r&&(this.#s.set(e,r.effect),this.#e.delete(e),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),a=r.effect)}for(const[i,n]of this.#t){if(this.#t.delete(i),i===t)break;const o=this.#e.get(n);o&&(_(o.effect),this.#e.delete(n))}for(const[i,n]of this.#s){if(i===e||this.#a.has(i))continue;const o=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();D(n,u),u.append(d()),this.#e.set(i,{effect:n,fragment:u})}else _(n);this.#a.delete(i),this.#s.delete(i)};this.#r||!a?(this.#a.add(i),C(n,o,!1)):o()}}};#i=t=>{this.#t.delete(t);const e=Array.from(this.#t.values());for(const[a,r]of this.#e)e.includes(a)||(_(r.effect),this.#e.delete(a))};ensure(t,e){var a=v,r=L();if(e&&!this.#s.has(t)&&!this.#e.has(t))if(r){var i=document.createDocumentFragment(),n=d();i.append(n),this.#e.set(t,{effect:p(()=>e(n)),fragment:i})}else this.#s.set(t,p(()=>e(this.anchor)));if(this.#t.set(a,t),r){for(const[o,f]of this.#s)o===t?a.unskip_effect(f):a.skip_effect(f);for(const[o,f]of this.#e)o===t?a.unskip_effect(f.effect):a.skip_effect(f.effect);a.oncommit(this.#n),a.ondiscard(this.#i)}else l&&(this.anchor=h),this.#n()}}const R="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(R);export{U as B,z as a,c as b,H as c,I as f,S as t};
